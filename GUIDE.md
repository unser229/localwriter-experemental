# –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é –∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ LocalWriter

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ –¥–≤—É—Ö –æ—Å–Ω–æ–≤–Ω—ã—Ö —á–∞—Å—Ç–µ–π:
1. **Backend** (Python, FastAPI) ‚Äî —Å–µ—Ä–≤–µ—Ä, –∫–æ—Ç–æ—Ä—ã–π –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –ª–æ–≥–∏–∫—É (—á–µ—Ä–µ–∑ Ollama/text-generation-webui, RAG –∏ —Ç.–¥.).
2. **Extension** (LibreOffice) ‚Äî —Å–∞–º–æ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—â–µ–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –≤ —Ç–µ–∫—Å—Ç–æ–≤–æ–º –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–µ.

---

## üöÄ –ó–∞–ø—É—Å–∫ –∏ –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

### 1. –ó–∞–ø—É—Å–∫ Backend-—Å–µ—Ä–≤–µ—Ä–∞

Backend –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **Poetry** –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É –≤–∞—Å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω Python (–≤–µ—Ä—Å–∏–∏ 3.11-3.12, —Ç–∞–∫ –∫–∞–∫ 3.13 –º–æ–∂–µ—Ç –∏–º–µ—Ç—å –ø—Ä–æ–±–ª–µ–º—ã —Å –Ω–µ–∫–æ—Ç–æ—Ä—ã–º–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞–º–∏) –∏ Poetry.

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –ø–∞–ø–∫—É –±–µ–∫–µ–Ω–¥–∞:
   ```bash
   cd backend
   ```
2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —Å –ø–æ–º–æ—â—å—é Poetry:
   ```bash
   poetry install
   ```
3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è uvicorn –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è FastAPI):
   ```bash
   poetry run uvicorn app.main:app --host 0.0.0.0 --port 8323 --reload
   ```
   *–°–µ—Ä–≤–µ—Ä –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É: http://localhost:8323. –í –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å—Ä–∞–±–æ—Ç–∞–µ—Ç —Å–∫—Ä–∏–ø—Ç –∫–∞–ª–∏–±—Ä–æ–≤–∫–∏ —Å Ollama (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏—â–µ—Ç –Ω–∞ `http://localhost:11434`).*

   **–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ Ollama –≤ –ª–æ–∫–∞–ª—å–Ω–æ–π —Å–µ—Ç–∏:**
   –ï—Å–ª–∏ –≤–∞—à —Å–µ—Ä–≤–µ—Ä Ollama —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –¥—Ä—É–≥–æ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤ –ª–æ–∫–∞–ª—å–Ω–æ–π —Å–µ—Ç–∏), –≤—ã –º–æ–∂–µ—Ç–µ —É–∫–∞–∑–∞—Ç—å –µ–≥–æ –∞–¥—Ä–µ—Å —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è `OLLAMA_URL` –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º —Å–µ—Ä–≤–µ—Ä–∞:
   ```bash
   OLLAMA_URL="http://192.168.1.100:11434" poetry run uvicorn app.main:app --host 0.0.0.0 --port 8323 --reload
   ```

### 2. –°–±–æ—Ä–∫–∞ –∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è –¥–ª—è LibreOffice

–î–ª—è —Å–±–æ—Ä–∫–∏ –∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π bash-—Å–∫—Ä–∏–ø—Ç.

1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É –≤–∞—Å –∑–∞–∫—Ä—ã—Ç LibreOffice, –ª–∏–±–æ –¥–∞–π—Ç–µ —Å–∫—Ä–∏–ø—Ç—É –∑–∞–∫—Ä—ã—Ç—å –µ–≥–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.
2. –ò–∑ –∫–æ—Ä–Ω—è –ø—Ä–æ–µ–∫—Ç–∞ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É:
   ```bash
   ./scripts/deploy.sh
   ```
   **–ß—Ç–æ –¥–µ–ª–∞–µ—Ç —ç—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç:**
   - –ó–∞–∫—Ä—ã–≤–∞–µ—Ç –∑–∞–ø—É—â–µ–Ω–Ω—ã–µ –ø—Ä–æ—Ü–µ—Å—Å—ã LibreOffice –∏ –æ—á–∏—â–∞–µ—Ç –∑–∞–≤–∏—Å—à–∏–µ lock-—Ñ–∞–π–ª—ã.
   - –ó–∞–ø–∞–∫–æ–≤—ã–≤–∞–µ—Ç —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –ø–∞–ø–∫–∏ `extension/` –≤ `.zip` –∞—Ä—Ö–∏–≤ (—Å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ–º `.oxt`), –∫–ª–∞–¥–µ—Ç –µ–≥–æ –≤ –ø–∞–ø–∫—É `build/`.
   - –£–¥–∞–ª—è–µ—Ç —Å—Ç–∞—Ä—É—é –≤–µ—Ä—Å–∏—é —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è —Å –ø–æ–º–æ—â—å—é `unopkg`.
   - –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –Ω–æ–≤—É—é –≤–µ—Ä—Å–∏—é –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç LibreOffice Writer.
   - –ü—ã—Ç–∞–µ—Ç—Å—è –æ—Ç–∫—Ä—ã—Ç—å –ª–æ–≥-—Ñ–∞–π–ª (–ª–µ–∂–∏—Ç –ø–æ –ø—É—Ç–∏ `/tmp/localwriter.log`).

---

## üõ† –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### Backend (Python)
- –í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ **Poetry** –¥–ª—è –ª—é–±—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π —Å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏: `poetry add <–ø–∞–∫–µ—Ç>`, `poetry remove <–ø–∞–∫–µ—Ç>`.
- –ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ `backend/app/`. –ë–ª–∞–≥–æ–¥–∞—Ä—è —Ñ–ª–∞–≥—É `--reload` –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ `uvicorn` —á–µ—Ä–µ–∑ poetry, –ª—é–±—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ `.py` —Ñ–∞–π–ª–∞—Ö –±—É–¥—É—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞—Ç—å —Å–µ—Ä–≤–µ—Ä.
- –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ ‚Äî `backend/app/main.py`. –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ `config.py`. –û–ø–∏—Å–∞–Ω–∏–µ API (—ç–Ω–¥–ø–æ–∏–Ω—Ç—ã) –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ `backend/app/api/endpoints.py` (–∏–ª–∏ `endpoints.py`).

### Extension (LibreOffice)
- –ö–æ–¥ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –ø–∞–ø–∫–µ `extension/`.
- –û—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è –Ω–∞–ø–∏—Å–∞–Ω–∞ –Ω–∞ Python (`extension/main.py`), –∞ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –æ–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –≤ `.xcu` —Ñ–∞–π–ª–∞—Ö.
- –ü–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Ñ–∞–π–ª–∞—Ö –ø–∞–ø–∫–∏ `extension/` –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∑–∞–Ω–æ–≤–æ –∑–∞–ø—É—Å–∫–∞—Ç—å `./scripts/deploy.sh`, —á—Ç–æ–±—ã –æ–±–Ω–æ–≤–∏—Ç—å `localwriter.oxt` –∏ –ø–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –≤ LibreOffice.
- –ü—Ä–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ –æ–±—Ä–∞—â–∞–π—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞ –ª–æ–≥-—Ñ–∞–π–ª `/tmp/localwriter.log` –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ –æ—à–∏–±–æ–∫ –≤ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–∏.

### Ollama / AI –ú–æ–¥–µ–ª–∏
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É –≤–∞—Å –∑–∞–ø—É—â–µ–Ω–∞ –ª–æ–∫–∞–ª—å–Ω–∞—è —è–∑—ã–∫–æ–≤–∞—è –º–æ–¥–µ–ª—å (–Ω–∞–ø—Ä–∏–º–µ—Ä, —á–µ—Ä–µ–∑ Ollama). 
- API Ollama –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –¥–æ—Å—Ç—É–ø–Ω–æ (–æ–±—ã—á–Ω–æ –Ω–∞ –ø–æ—Ä—Ç—É `11434`), –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å LibreOffice —á–µ—Ä–µ–∑ –≤–∞—à backend.
