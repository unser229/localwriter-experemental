code /tmp/localwriter.log
docling-project.github.io

–≠—Ç–æ –º—É–¥—Ä–æ–µ —Ä–µ—à–µ–Ω–∏–µ. –ü–ª–∞–≥–∏–Ω –∫–∞–∫ ¬´–ø—É–ª—å—Ç —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è¬ª –≤–Ω—É—Ç—Ä–∏ –ø—Ä–∏–≤—ã—á–Ω–æ–π —Å—Ä–µ–¥—ã (LibreOffice) ‚Äî —ç—Ç–æ —É–¥–æ–±–Ω–æ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –∞ –≤—ã–Ω–æ—Å —Ç—è–∂–µ–ª–æ–π –ª–æ–≥–∏–∫–∏ (Docling, LLM, RAG) –Ω–∞ –ª–æ–∫–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä ‚Äî —ç—Ç–æ –Ω–∞–¥–µ–∂–Ω–æ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞.

–î–∞–≤–∞–π —Å–ø—Ä–æ–µ–∫—Ç–∏—Ä—É–µ–º –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É **Plugin-First**, –≥–¥–µ LibreOffice ‚Äî —ç—Ç–æ "–¢–æ–Ω–∫–∏–π –ö–ª–∏–µ–Ω—Ç", –∞ –≤—Å—è –º–∞–≥–∏—è –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –Ω–∞ —Ç–≤–æ–µ–º –ª–æ–∫–∞–ª—å–Ω–æ–º —Å–µ—Ä–≤–µ—Ä–µ (Backend).

---

### üèó –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞: "LocalWriter Hybrid"

#### 1. –ü–ª–∞–≥–∏–Ω (LibreOffice Extension)
**–†–æ–ª—å:** –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å, –∑–∞—Ö–≤–∞—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞, –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞.
**–Ø–∑—ã–∫:** Python (UNO).

–ß—Ç–æ –æ–Ω –¥–µ–ª–∞–µ—Ç:
*   **Sidebar:** –í–º–µ—Å—Ç–æ –∫—É—á–∏ –∫–Ω–æ–ø–æ–∫ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Ç–µ–ø–µ—Ä—å —Ç–∞–º:
    *   **–ß–∞—Ç** (–æ–±—â–µ–Ω–∏–µ —Å LLM).
    *   **–í—ã–±–æ—Ä —à–∞–±–ª–æ–Ω–∞** (–≤—ã–ø–∞–¥–∞—é—â–∏–π —Å–ø–∏—Å–æ–∫, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–¥—Ç—è–≥–∏–≤–∞–µ—Ç—Å—è —Å —Å–µ—Ä–≤–µ—Ä–∞: "–î–æ–≥–æ–≤–æ—Ä (–ì–û–°–¢)", "–°–ª—É–∂–µ–±–∫–∞", "–°—á–µ—Ç").
    *   **–ö–Ω–æ–ø–∫–∞ "–ü—Ä–∏–º–µ–Ω–∏—Ç—å —Å—Ç–∏–ª—å"** (Magic Button).
*   **–î–µ–π—Å—Ç–≤–∏–µ:**
    1.  –°–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ç–µ–∫—É—â–∏–π (–≥—Ä—è–∑–Ω—ã–π) –¥–æ–∫—É–º–µ–Ω—Ç –≤–æ –≤—Ä–µ–º–µ–Ω–Ω—ã–π —Ñ–∞–π–ª.
    2.  –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –µ–≥–æ –Ω–∞ –ª–æ–∫–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä (`POST /api/process_document`).
    3.  –ü–æ–ª—É—á–∞–µ—Ç –æ–±—Ä–∞—Ç–Ω–æ **–≥–æ—Ç–æ–≤—ã–π —Ñ–∞–π–ª**.
    4.  –ó–∞–º–µ–Ω—è–µ—Ç —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ –Ω–∞ –ø–æ–ª—É—á–µ–Ω–Ω–æ–µ (–∏–ª–∏ –≤—Å—Ç–∞–≤–ª—è–µ—Ç –∫–∞–∫ –Ω–æ–≤—É—é –≤–µ—Ä—Å–∏—é).

#### 2. –ë—ç–∫–µ–Ω–¥ (–õ–æ–∫–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä)
**–†–æ–ª—å:** –ú–æ–∑–≥–∏. –ó–¥–µ—Å—å –∫—Ä—É—Ç–∏—Ç—Å—è Docling, RAG –∏ –ª–æ–≥–∏–∫–∞ —Å—Ç–∏–ª–µ–π.
**–°—Ç–µ–∫:** Python (FastAPI), Docling, ChromaDB, python-docx.

–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤–Ω—É—Ç—Ä–∏ –ø—Ä–∏ –∑–∞–ø—Ä–æ—Å–µ:

1.  **Ingestion (Docling):** –°–µ—Ä–≤–µ—Ä –ø–æ–ª—É—á–∞–µ—Ç "–≥—Ä—è–∑–Ω—ã–π" —Ñ–∞–π–ª. Docling —Ä–∞–∑–±–∏—Ä–∞–µ—Ç –µ–≥–æ –Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—É (–Ω–µ –ø—Ä–æ—Å—Ç–æ —Ç–µ–∫—Å—Ç, –∞ "—ç—Ç–æ –ø–æ—Ö–æ–∂–µ –Ω–∞ –∑–∞–≥–æ–ª–æ–≤–æ–∫", "—ç—Ç–æ —Ç–∞–±–ª–∏—Ü–∞").
2.  **–ê–Ω–æ–Ω–∏–º–∏–∑–∞—Ü–∏—è:** –°–∫—Ä–∏–ø—Ç –∑–∞–º–µ–Ω—è–µ—Ç "–ò–≤–∞–Ω–æ–≤ –ò.–ò." –Ω–∞ `[PERSON_1]`.
3.  **Semantic Mapping (LLM + RAG):**
    *   –°–µ—Ä–≤–µ—Ä –∏–¥–µ—Ç –≤ –ë–î –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ (ChromaDB).
    *   –ù–∞—Ö–æ–¥–∏—Ç –ø–æ—Ö–æ–∂–∏–π –¥–æ–∫—É–º–µ–Ω—Ç (–Ω–∞–ø—Ä–∏–º–µ—Ä, "–î–æ–≥–æ–≤–æ—Ä –ø–æ—Å—Ç–∞–≤–∫–∏ 2023").
    *   LLM —Å–º–æ—Ç—Ä–∏—Ç –Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—É –≥—Ä—è–∑–Ω–æ–≥–æ —Ñ–∞–π–ª–∞ –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—É —ç—Ç–∞–ª–æ–Ω–∞.
    *   **–í–∞–∂–Ω–æ:** LLM –Ω–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç —Ç–µ–∫—Å—Ç –ø—Ä–æ–±–µ–ª–∞–º–∏. –û–Ω–∞ –≤—ã–¥–∞–µ—Ç **JSON-—Ä–∞–∑–º–µ—Ç–∫—É**: `{"section": "header", "style": "Title_Bold_16", "text": "..."}`.
4.  **Rendering (Assembly):**
    *   Python-—Å–∫—Ä–∏–ø—Ç –±–µ—Ä–µ—Ç **—á–∏—Å—Ç—ã–π —Ñ–∞–π–ª —à–∞–±–ª–æ–Ω–∞** (–∏–∑ –ë–î).
    *   –ó–∞–ª–∏–≤–∞–µ—Ç –≤ –Ω–µ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç —Å–æ–≥–ª–∞—Å–Ω–æ JSON-—Ä–∞–∑–º–µ—Ç–∫–µ –æ—Ç LLM.
    *   –ü—Ä–∏–º–µ–Ω—è–µ—Ç –∂–µ—Å—Ç–∫–∏–µ —Å—Ç–∏–ª–∏ (—à—Ä–∏—Ñ—Ç—ã, –æ—Ç—Å—Ç—É–ø—ã, –≤–æ–¥—è–Ω—ã–µ –∑–Ω–∞–∫–∏) —Å—Ä–µ–¥—Å—Ç–≤–∞–º–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ `python-docx` (–∏–ª–∏ `odfpy` –¥–ª—è ODT).
5.  **–î–µ–∞–Ω–æ–Ω–∏–º–∏–∑–∞—Ü–∏—è:** –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ñ–∞–º–∏–ª–∏–∏ –Ω–∞ –º–µ—Å—Ç–æ.
6.  **–û—Ç–≤–µ—Ç:** –û—Ç–¥–∞–µ—Ç –≥–æ—Ç–æ–≤—ã–π —Ñ–∞–π–ª –ø–ª–∞–≥–∏–Ω—É.

---

###  scenario: –ö–∞–∫ —ç—Ç–æ –≤—ã–≥–ª—è–¥–∏—Ç –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

1.  **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å** –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç LibreOffice. –ü–∏—à–µ—Ç —á–µ—Ä–Ω–æ–≤–∏–∫ –¥–æ–≥–æ–≤–æ—Ä–∞ "–Ω–∞ –∫–æ–ª–µ–Ω–∫–µ" (–∫—Ä–∏–≤—ã–µ —à—Ä–∏—Ñ—Ç—ã, –Ω–µ—Ç –æ—Ç—Å—Ç—É–ø–æ–≤, –ø—Ä–æ—Å—Ç–æ –ø–æ—Ç–æ–∫ –º—ã—Å–ª–µ–π).
2.  –û—Ç–∫—Ä—ã–≤–∞–µ—Ç **Sidebar**.
3.  –í –≤—ã–ø–∞–¥–∞—é—â–µ–º —Å–ø–∏—Å–∫–µ –≤—ã–±–∏—Ä–∞–µ—Ç: `–®–∞–±–ª–æ–Ω: –î–æ–≥–æ–≤–æ—Ä –ü–æ—Å—Ç–∞–≤–∫–∏ (–°—Ç—Ä–æ–≥–∏–π)`.
4.  –ù–∞–∂–∏–º–∞–µ—Ç `–ü—Ä–∏–º–µ–Ω–∏—Ç—å`.
5.  **–ü–ª–∞–≥–∏–Ω** –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —á–µ—Ä–Ω–æ–≤–∏–∫ –Ω–∞ —Å–µ—Ä–≤–µ—Ä.
6.  –ß–µ—Ä–µ–∑ 5-10 —Å–µ–∫—É–Ω–¥ –¥–æ–∫—É–º–µ–Ω—Ç –≤ LibreOffice –º–æ—Ä–≥–∞–µ—Ç –∏ –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç—Å—è –≤ **–∏–¥–µ–∞–ª—å–Ω–æ —Å–≤–µ—Ä—Å—Ç–∞–Ω–Ω—ã–π –¥–æ–∫—É–º–µ–Ω—Ç** —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –ø–æ–ª—è–º–∏, —à—Ä–∏—Ñ—Ç–∞–º–∏ –∏ —à–∞–ø–∫–æ–π –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏.
7.  **–ò—Ç–µ—Ä–∞—Ç–∏–≤–Ω–∞—è –ø—Ä–∞–≤–∫–∞:**
    *   –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –Ω–µ –Ω—Ä–∞–≤–∏—Ç—Å—è –æ–¥–∏–Ω –ø—É–Ω–∫—Ç.
    *   –û–Ω –≤—ã–¥–µ–ª—è–µ—Ç –µ–≥–æ –∏ –≤ —á–∞—Ç–µ Sidebar –ø–∏—à–µ—Ç: *"–°–¥–µ–ª–∞–π —Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫—É –º—è–≥—á–µ –∏ –¥–æ–±–∞–≤—å –ø—É–Ω–∫—Ç –ø—Ä–æ –ø—Ä–µ–¥–æ–ø–ª–∞—Ç—É"*.
    *   –ü–ª–∞–≥–∏–Ω –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –≤—ã–¥–µ–ª–µ–Ω–∏–µ + –ø—Ä–æ–º—Ç.
    *   –°–µ—Ä–≤–µ—Ä –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–π —Ñ—Ä–∞–≥–º–µ–Ω—Ç —É–∂–µ –≤ –Ω—É–∂–Ω–æ–º —Å—Ç–∏–ª–µ.

---

### üíª –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è (–ß—Ç–æ –ø–∏—Å–∞—Ç—å)

–¢–µ–±–µ –Ω—É–∂–Ω–æ —Ä–∞–∑–¥–µ–ª–∏—Ç—å –ø—Ä–æ–µ–∫—Ç –Ω–∞ –¥–≤–µ –ø–∞–ø–∫–∏: `client` (–ø–ª–∞–≥–∏–Ω) –∏ `server` (FastAPI).

#### 1. Server Side (FastAPI + Docling)
–í–æ—Ç –ø—Ä–∏–º–µ—Ä–Ω—ã–π –∫–æ–¥ —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞, –∫–æ—Ç–æ—Ä—ã–π –¥–µ–ª–∞–µ—Ç –º–∞–≥–∏—é:

```python
# server/main.py
from fastapi import FastAPI, UploadFile, File, Form
from docling.document_converter import DocumentConverter
from semantic_styler import apply_template_style # –¢–≤–æ–π –º–æ–¥—É–ª—å
from anonimizator import anonymize, deanonymize

app = FastAPI()

@app.post("/process_full_document")
async def process_doc(
    file: UploadFile = File(...), 
    template_id: str = Form(...)
):
    # 1. –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤—Ö–æ–¥—è—â–∏–π —Ñ–∞–π–ª
    temp_path = save_temp(file)
    
    # 2. Docling –ø–∞—Ä—Å–∏—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É (–ø–æ–Ω–∏–º–∞–µ—Ç –≥–¥–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏, –≥–¥–µ —Ç–∞–±–ª–∏—Ü—ã)
    converter = DocumentConverter()
    doc_structure = converter.convert(temp_path).document.export_to_dict()
    
    # 3. –ê–Ω–æ–Ω–∏–º–∏–∑–∞—Ü–∏—è —Ç–µ–∫—Å—Ç–∞ –≤–Ω—É—Ç—Ä–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
    safe_structure, mapping = anonymize(doc_structure)
    
    # 4. LLM + RAG (–ú–∞–≥–∏—è)
    # LLM —Ä–µ—à–∞–µ—Ç, –∫–∞–∫–æ–π –∫—É—Å–æ–∫ —Ç–µ–∫—Å—Ç–∞ –∫ –∫–∞–∫–æ–º—É —Å—Ç–∏–ª—é —à–∞–±–ª–æ–Ω–∞ –æ—Ç–Ω–æ—Å–∏—Ç—Å—è
    structured_content = llm_align_to_template(safe_structure, template_id)
    
    # 5. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –Ω–æ–≤–æ–≥–æ —Ñ–∞–π–ª–∞
    # –ë–µ—Ä–µ–º "–ü—É—Å—Ç–æ–π —à–∞–±–ª–æ–Ω.docx" –∏ –∑–∞–ª–∏–≤–∞–µ–º —Ç—É–¥–∞ –¥–∞–Ω–Ω—ã–µ
    output_path = apply_template_style(structured_content, template_id)
    
    # 6. –î–µ–∞–Ω–æ–Ω–∏–º–∏–∑–∞—Ü–∏—è (–≤–Ω—É—Ç—Ä–∏ DOCX —ç—Ç–æ —Å–ª–æ–∂–Ω–µ–µ, –Ω–æ –≤–æ–∑–º–æ–∂–Ω–æ —á–µ—Ä–µ–∑ search/replace)
    final_path = deanonymize(output_path, mapping)
    
    return FileResponse(final_path)
```

#### 2. Client Side (LibreOffice Plugin)
–ü–ª–∞–≥–∏–Ω —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –æ—á–µ–Ω—å –ø—Ä–æ—Å—Ç—ã–º. –û–Ω –ø—Ä–æ—Å—Ç–æ –ø–µ—Ä–µ—Å—ã–ª–∞–µ—Ç —Ñ–∞–π–ª—ã.

–í `main.py` –ø–ª–∞–≥–∏–Ω–∞:

```python
def trigger(self, args):
    if args == "ApplyTemplate":
        # 1. –ü–æ–ª—É—á–∞–µ–º —Ç–µ–∫—É—â–∏–π –¥–æ–∫—É–º–µ–Ω—Ç
        desktop = self.ctx.ServiceManager.createInstanceWithContext("com.sun.star.frame.Desktop", self.ctx)
        doc = desktop.getCurrentComponent()
        
        # 2. –°–æ—Ö—Ä–∞–Ω—è–µ–º –µ–≥–æ –≤–æ –≤—Ä–µ–º–µ–Ω–Ω—ã–π —Ñ–∞–π–ª (uno)
        temp_url = "file:///tmp/current_draft.docx"
        doc.storeToURL(temp_url, ())
        
        # 3. –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –Ω–∞ —Å–µ—Ä–≤–µ—Ä
        template_id = self.get_selected_template_from_sidebar() # –ü–æ–ª—É—á–∏—Ç—å –∏–∑ GUI
        
        with open("/tmp/current_draft.docx", "rb") as f:
            response = requests.post(
                "http://localhost:8000/process_full_document",
                files={"file": f},
                data={"template_id": template_id}
            )
            
        # 4. –ï—Å–ª–∏ —É—Å–ø–µ—Ö - –∑–∞–≥—Ä—É–∂–∞–µ–º –Ω–æ–≤—ã–π —Ñ–∞–π–ª
        if response.status_code == 200:
            with open("/tmp/result.docx", "wb") as f:
                f.write(response.content)
            
            # –í—Å—Ç–∞–≤–ª—è–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç:
            # –í–∞—Ä–∏–∞–Ω—Ç –ê: –ó–∞–∫—Ä—ã—Ç—å –∏ –æ—Ç–∫—Ä—ã—Ç—å –Ω–æ–≤—ã–π (–ø—Ä–æ—Å—Ç–æ)
            # –í–∞—Ä–∏–∞–Ω—Ç –ë: InsertFile —á–µ—Ä–µ–∑ –∫—É—Ä—Å–æ—Ä (–∫—Ä–∞—Å–∏–≤–æ)
            cursor = doc.Text.createTextCursor()
            cursor.gotoStart(False)
            cursor.gotoEnd(True) # –í—ã–¥–µ–ª–∏—Ç—å –≤—Å—ë
            cursor.insertDocumentFromURL("file:///tmp/result.docx", ())
```

---

### üåü –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —Ç–∞–∫–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞

1.  **LibreOffice –Ω–µ –≤–∏—Å–Ω–µ—Ç:** –¢—è–∂–µ–ª—ã–π Docling –∏ LLM —Ä–∞–±–æ—Ç–∞—é—Ç –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º –ø—Ä–æ—Ü–µ—Å—Å–µ —Å–µ—Ä–≤–µ—Ä–∞. –ü–ª–∞–≥–∏–Ω –∂–¥–µ—Ç –æ—Ç–≤–µ—Ç–∞ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ.
2.  **–ù–∞—Å—Ç–æ—è—â–µ–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:** –¢—ã –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—à—å —Ñ–∞–π–ª –±–∏–±–ª–∏–æ—Ç–µ–∫–æ–π (`python-docx`), –∫–æ—Ç–æ—Ä–∞—è –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ "–ó–∞–≥–æ–ª–æ–≤–æ–∫ 1" –±—É–¥–µ—Ç –∏–º–µ–Ω–Ω–æ —Ç–∞–∫–∏–º, –∫–∞–∫ –≤ —É—Å—Ç–∞–≤–µ –∫–æ–º–ø–∞–Ω–∏–∏, –≤–ø–ª–æ—Ç—å –¥–æ –º–∏–ª–ª–∏–º–µ—Ç—Ä–∞. LLM —ç—Ç–æ–≥–æ –Ω–µ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç.
3.  **–ë–î –®–∞–±–ª–æ–Ω–æ–≤:** –¢—ã –º–æ–∂–µ—à—å –ø—Ä–æ—Å—Ç–æ –Ω–∞–∫–∏–¥–∞—Ç—å –≤ –ø–∞–ø–∫—É —Å–µ—Ä–≤–µ—Ä–∞ 50 "—ç—Ç–∞–ª–æ–Ω–Ω—ã—Ö" —Ñ–∞–π–ª–æ–≤. –ü—Ä–∏ —Å—Ç–∞—Ä—Ç–µ —Å–µ—Ä–≤–µ—Ä –ø—Ä–æ–π–¥–µ—Ç—Å—è –ø–æ –Ω–∏–º Docling-–æ–º –∏ –∑–∞–ø–æ–º–Ω–∏—Ç –∏—Ö —Å—Ç–∏–ª–∏.
4.  **–ë—Ä–∞—É–∑–µ—Ä–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:** –†–∞–∑ —É —Ç–µ–±—è –µ—Å—Ç—å —Å–µ—Ä–≤–µ—Ä (FastAPI), —Ç—ã –º–æ–∂–µ—à—å –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ –æ—Ç–∫—Ä—ã—Ç—å `http://localhost:8000` –≤ –±—Ä–∞—É–∑–µ—Ä–µ –∏ —É–≤–∏–¥–µ—Ç—å —Ç–∞–º –∫—Ä–∞—Å–∏–≤—É—é –∞–¥–º–∏–Ω–∫—É –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —à–∞–±–ª–æ–Ω–∞–º–∏ –∏–ª–∏ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –ª–æ–≥–æ–≤, –Ω–µ –ø–µ—Ä–µ–≥—Ä—É–∂–∞—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å LibreOffice.

–≠—Ç–æ –∏–º–µ–Ω–Ω–æ —Ç–æ—Ç **Enterprise-grade**, –∫–æ—Ç–æ—Ä—ã–π —Ç—ã —Ö–æ—Ç–µ–ª, –Ω–æ —Å —É–¥–æ–±–Ω–æ–π –∫–Ω–æ–ø–∫–æ–π –≤–Ω—É—Ç—Ä–∏ –ª—é–±–∏–º–æ–≥–æ –æ—Ñ–∏—Å–∞.


localwriter/
‚îú‚îÄ‚îÄ üìÇ backend/                  # [–ë–£–î–£–©–ï–ï] –°—é–¥–∞ –ø–µ—Ä–µ–µ–¥–µ—Ç –ª–æ–≥–∏–∫–∞ RAG –∏ Docling
‚îÇ   ‚îú‚îÄ‚îÄ üìÇ app/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÇ api/              # API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã (FastAPI)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÇ core/             # –ö–æ–Ω—Ñ–∏–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÇ services/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ anonymizer.py    # –ú–æ–¥—É–ª—å –∞–Ω–æ–Ω–∏–º–∏–∑–∞—Ü–∏–∏
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ docling_parser.py# –û–±–µ—Ä—Ç–∫–∞ –Ω–∞–¥ Docling
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ rag_engine.py    # –†–∞–±–æ—Ç–∞ —Å ChromaDB/VectorDB
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ style_manager.py # –õ–æ–≥–∏–∫–∞ –∏–∑–≤–ª–µ—á–µ–Ω–∏—è —Å—Ç–∏–ª–µ–π
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ main.py              # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ —Å–µ—Ä–≤–µ—Ä–∞
‚îÇ   ‚îî‚îÄ‚îÄ pyproject.toml         # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —Å–µ—Ä–≤–µ—Ä–∞ (docling, fastapi, etc). –≠—Ç–æ –¥–ª—è poetry 
‚îÇ
‚îú‚îÄ‚îÄ üìÇ data/                     # [–•–†–ê–ù–ò–õ–ò–©–ï] –õ–æ–∫–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
‚îÇ   ‚îú‚îÄ‚îÄ üìÇ raw_templates/        # –°—é–¥–∞ –∫–∏–¥–∞–µ–º PDF/DOCX "—ç—Ç–∞–ª–æ–Ω—ã"
‚îÇ   ‚îú‚îÄ‚îÄ üìÇ vector_db/            # –°—é–¥–∞ ChromaDB —Å–æ—Ö—Ä–∞–Ω–∏—Ç –∏–Ω–¥–µ–∫—Å—ã
‚îÇ   ‚îî‚îÄ‚îÄ üìÇ temp/                 # –í—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã –ø—Ä–∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ
‚îÇ
‚îú‚îÄ‚îÄ üìÇ extension/                # [–¢–ï–ö–£–©–ï–ï] –ò—Å—Ö–æ–¥–Ω–∏–∫–∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è LibreOffice
‚îÇ   ‚îú‚îÄ‚îÄ üìÇ META-INF/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ manifest.xml         # –°–ø–∏—Å–æ–∫ —Ñ–∞–π–ª–æ–≤ –ø–∞–∫–µ—Ç–∞
‚îÇ   ‚îú‚îÄ‚îÄ üìÇ assets/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ icon.png             # –ò–∫–æ–Ω–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ üìÇ registration/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ license.txt
‚îÇ   ‚îú‚îÄ‚îÄ Accelerators.xcu         # –ì–æ—Ä—è—á–∏–µ –∫–ª–∞–≤–∏—à–∏ (Ctrl+Q, Ctrl+E)
‚îÇ   ‚îú‚îÄ‚îÄ Addons.xcu               # –ú–µ–Ω—é
‚îÇ   ‚îú‚îÄ‚îÄ description.xml          # –í–µ—Ä—Å–∏—è –∏ ID —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ main.py                  # <--- –°–Æ–î–ê –ö–õ–ê–î–ï–ú –¢–í–û–ô –ì–û–¢–û–í–´–ô –ö–û–î
‚îÇ
‚îú‚îÄ‚îÄ üìÇ scripts/                  # –°–∫—Ä–∏–ø—Ç—ã –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
‚îÇ   ‚îî‚îÄ‚îÄ deploy.sh                # –°–∫—Ä–∏–ø—Ç —Å–±–æ—Ä–∫–∏ –∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ (–æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π)
‚îÇ
‚îú‚îÄ‚îÄ .gitignore
‚îî‚îÄ‚îÄ README.md